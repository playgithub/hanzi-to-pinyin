pkgname=hanzi-to-pinyin-alg
pkgver="0.2"
pkgrel=1
pkgdesc="C++ library to get pinyin for Chinese character or phrase"
arch=('x86_64')
provides=()
license=('MIT')
depends=('boost>=1.70.0' 'cppjieba-alg' 'rapidjson' 'sqlite' )
makedepends=('cmake>=3.20' 'git' 'openssl')
source=("$pkgname-$pkgver"::"git+ssh://github.com/playgithub/hanzi-to-pinyin.git")
sha256sums=('SKIP')
install_prefix=/usr/local

build() {
    cd "$pkgname-$pkgver"

    cmake -S . \
          -B out \
          -DCMAKE_BUILD_TYPE=Release

    cmake --build out -j 8
}

package() {
	cd "$pkgname-$pkgver"
    DESTDIR="$pkgdir/" cmake --install out --prefix="$install_prefix"
}
